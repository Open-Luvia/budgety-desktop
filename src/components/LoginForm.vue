<template>
   <div class="card">
      <div class="header">
         Accedi
      </div>
      <div class="body">
         <form @submit.prevent="signIn">
            <BaseInputWithIcon
               type="text"
               placeholder="Email"
               v-model="credentials.email"
               icon="envelope"
            ></BaseInputWithIcon>
            <BaseInputWithIcon
               type="password"
               placeholder="Password"
               v-model="credentials.password"
               icon="lock"
            ></BaseInputWithIcon>

            <BaseButton buttonClass="secondary" type="submit">
               Accedi
            </BaseButton>
         </form>
         <div>
            Non hai un account?
            <router-link :to="{ name: 'signup' }">Registrati</router-link>
         </div>
      </div>
   </div>
</template>

<script>
import { mapActions } from 'vuex'
export default {
   data() {
      return {
         credentials: {
            email: 'ale@gmail.com',
            password: 'password'
         }
      }
   },
   methods: {
      ...mapActions(['login']),
      signIn() {
         this.login(this.credentials).then(() => {
            this.$router.push({ name: 'dashboard' })
         })
      }
   }
}
</script>

<style lang="sass" scoped>
@import '../assets/global.sass'
.card
    border-radius: 20px
    border: none
    height: 440px
    margin: 0px auto
    width: 440px
    .header
        background-color: map-get($colors, 'primary')
        border-radius: 20px 20px 0px 0px
        color: white
        font-size: 24px
        font-weight: 500
        height: 2.5em
        line-height: 2.5em
    span
        height: 100%
        vertical-align: middle
    .body
        display: flex
        flex-direction: column
        height: 100%
        justify-content: center
        padding: 48px 40px 40px 40px
</style>
